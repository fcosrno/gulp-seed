{
    "tasksPath": "./tasks",
    "inject": {
        "from": "./app/js/**/*.js",
        "to": "./app/index.html",
        "folder": "./app",
        "options": {
            "relative": false,
            "ignorePath": "dist"
        },
        "runAfter": ["javascript"]
    },
    "watch": {
        "files": [
            "./src/**/*.js",
            "./src/**/*.jade",
            "./src/style.less"
        ],
        "runAfter": []
    },
    "javascript": {
        "from": [
            "./node_modules/angular/angular.js",
            "./node_modules/angular-route/angular-route.js",
            "./node_modules/angular-filter/dist/angular-filter.js",
            "./node_modules/lodash/index.js",
            "./src/ui-bootstrap-custom-build/ui-bootstrap-custom-tpls-0.14.3.js",
            "./src/app.js",
            "./src/DataService.js",
            "./src/**/*.js"
        ],
        "to": "./app/js",
        "filename": "script.js",
        "runAfter": ["jade"]
    },
    "jade": {
        "from": "./src/**/*.jade",
        "to": "./app",
        "runAfter": ["less"]
    },
    "less": {
        "from": "./src/style.less",
        "to": "./app/css",
        "runAfter": ["copy"]
    },
    "copy": {
        "from": ["./src/fonts/*", "./src/favicon.ico"],
        "to": ["./dist/fonts", "./dist"],
        "runAfter": ["images"]
    },
    "clean": {
        "target": [
            "./app/js/**/*.js",
            "./app/**/*.html",
            "./app/css/**/*.css"
        ],
        "runAfter": []
    },
    "images": {
        "from": "./app/img/*",
        "to": "./app/build",
        "options": {
            "progressive": true,
            "interlaced": true,
            "svgoPlugins": [{
                "removeUnknownsAndDefaults": false
            }, {
                "cleanupIDs": false
            }]
        },
        "runAfter": []
    },
    "sass": {
        "from": "./src/sass/styles.scss",
        "to": "./dist",
        "options": {
            "outputStyle": "compressed"
        },
        "runAfter": ["images"]
    },
    "docker": {
        "project": "example",
        "machine": "default",
        "path_to_containers": "./containers",
        "runAfter": ["add-hostname"]
    },
    "addHostname": {
        "runAfter": [],
    },
    "backup": {
        "database": "docker-compose exec mysql sh -c 'exec mysqldump --single-transaction -hlocalhost -uroot -p$MYSQL_ROOT_PASSWORD $DB_NAME' | gzip > ./.backup/`date +%m-%d-%Y`.db.zip",
        "content": "tar -czvf ./.backup/`date +%m-%d-%Y`.uploads.tar.gz ./.data/uploads"
    },
    "browserSyncWatch": {
        "files": [
            "./src/**/*.js",
            "./src/**/*.jade",
            "./src/**/*.scss"
        ],
        "runAfter": ["inject"]
    },
    "browserSync": {
        "open": false,
        "proxy": "http://example.dev",
        "socket": {
            "domain": "http://172.31.98.43:3000"
        },
        "browser": ["google-chrome"],
        "notify": true
    }
}
