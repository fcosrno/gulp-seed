var gulp = require('gulp');
var config = require('./gulp/config.json');
var plugins = require('gulp-load-plugins')();
plugins.browserSync = require('browser-sync').create();

// JS Minification
require(config.tasksPath + '/js-uglify')(gulp, plugins, config);

// SASS Compilation
require(config.tasksPath + '/sass-compile')(gulp, plugins, config);

// LESS Compilation
require(config.tasksPath + '/less-compile')(gulp, plugins, config);

// Jade Convertion
require(config.tasksPath + '/jade-convert')(gulp, plugins, config);

// Image Optimization
require(config.tasksPath + '/image-minification')(gulp, plugins, config);

// Browser Sync
require(config.tasksPath + '/browser-sync')(gulp, plugins, config);

// Watch Task
require(config.tasksPath + '/watch')(gulp, plugins, config);

// Default Task Triggers Watch after initializing BrowserSync
gulp.task('default',['browser-sync'],function() {
   gulp.start('watch');
});
